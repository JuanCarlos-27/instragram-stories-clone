<main class="max-w-[670px] m-auto mt-1 p-2">
  <header class="flex gap-3 relative">
    @if (movement() > 1) {
      <button
        class="absolute left-5 top-[35px] transform -translate-y-1/2 z-10"
        (click)="previousProfiles()"
      >
        <ng-container *ngTemplateOutlet="arrowLeft"></ng-container>
      </button>
    }

    @if (!isFinal()) {
      <button
        class="absolute right-5 top-[35px] transform -translate-y-1/2 z-10"
        (click)="nextProfiles()"
      >
        <ng-container *ngTemplateOutlet="arrowRight"></ng-container>
      </button>
    }

    <div class="overflow-hidden relative">
      <div
        class="flex gap-4 transition-move"
        [ngStyle]="{ transform: translateX() }"
      >
        @for (item of visbleProfiles(); track $index) {
          <story-picture
            (click)="openStory(item)"
            [picture]="item.user.image"
            [username]="item.user.name"
          />
        }
      </div>
    </div>
  </header>
</main>

<ng-template #arrowLeft>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="currentColor"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path
      d="M17 3.34a10 10 0 0 1 5 8.66c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10a10 10 0 0 1 15 -8.66m-3.293 4.953a1 1 0 0 0 -1.414 0l-3 3a1 1 0 0 0 0 1.414l3 3a1 1 0 0 0 1.414 0l.083 -.094a1 1 0 0 0 -.083 -1.32l-2.292 -2.293l2.292 -2.293a1 1 0 0 0 0 -1.414"
    />
  </svg>
</ng-template>

<ng-template #arrowRight>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="currentColor"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path
      d="M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -20 0c0 -5.523 4.477 -10 10 -10m-.293 6.293a1 1 0 0 0 -1.414 0l-.083 .094a1 1 0 0 0 .083 1.32l2.292 2.293l-2.292 2.293a1 1 0 0 0 1.414 1.414l3 -3a1 1 0 0 0 0 -1.414z"
    />
  </svg>
</ng-template>
